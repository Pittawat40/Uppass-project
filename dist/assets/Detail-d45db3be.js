import{_,o as g,a5 as D,a6 as b,n as k,g as c,e as d,j as I,d as u,h as V,k as m}from"./Footer-291da59a.js";import{V as x}from"./VApp-d61702d1.js";import{V as y}from"./VBreadcrumbs-8dc7a1bc.js";import{V as w}from"./VHover-c7f66099.js";import{h as C,r as h,o as B,i as $,c as t,w as s,F as S,j as e,t as o,k as l,m as F,l as N,q as T}from"./index-51f4506b.js";const L=C({name:"Detail",components:{NavBar:D,Footer:b},data:()=>({items:[{title:"Dashboard",disabled:!1,href:"/"},{title:"Detail",disabled:!1}],dataDetail:{},form:{},snackbar:!1}),mounted(){window.scrollTo(0,0),this.dataDetail=Object.keys(this.$store.state.BookDetail).length>0?this.$store.state.BookDetail:JSON.parse(localStorage.getItem("detail")),this.fetchDataDetail()},methods:{async fetchDataDetail(){Promise.all[this.form={img:this.dataDetail.volumeInfo.imageLinks&&this.dataDetail.volumeInfo.imageLinks.smallThumbnail?this.dataDetail.volumeInfo.imageLinks.smallThumbnail:"src/assets/book.jpg",title:this.dataDetail.volumeInfo.title,averageRating:this.dataDetail.volumeInfo.averageRating,previewLink:this.dataDetail.volumeInfo.previewLink,description:this.dataDetail.volumeInfo.description&&this.dataDetail.volumeInfo.description.length>1e3?`${this.dataDetail.volumeInfo.description.substring(0,1e3)} . . .`:this.dataDetail.volumeInfo.description,publisher:this.dataDetail.volumeInfo.publisher,publishedDate:this.dataDetail.volumeInfo.publishedDate,pageCount:this.dataDetail.volumeInfo.pageCount,pageCount:this.dataDetail.volumeInfo.pageCount,authors:this.dataDetail.volumeInfo.authors?this.dataDetail.volumeInfo.authors.toString():"",printType:this.dataDetail.volumeInfo.printType,language:this.dataDetail.volumeInfo.language,contentVersion:this.dataDetail.volumeInfo.contentVersion,favorite:this.dataDetail.favorite}]},async addFavorite(a){this.form.favorite?this.form.favorite=!1:(this.form.favorite=!0,a.favorite=!0),this.$store.commit("initFavorite",a)}}}),n=a=>(N("data-v-afa9641f"),a=a(),T(),a),R={class:"navigate"},j={class:"detail"},P={class:"text-uppercase font-weight-bold mr-2"},z={class:"mt-3 publish"},O=n(()=>e("p",{class:"text-uppercase mr-2"},"authors",-1)),q={class:"mt-2 publish"},A=n(()=>e("p",{class:"text-uppercase mr-2"},"type",-1)),E={class:"mt-2 publish"},H=n(()=>e("p",{class:"text-uppercase mr-2"},"Version",-1)),J={class:"description"},U=n(()=>e("p",{class:"text-uppercase font-weight-bold mt-4 mb-3"}," Description ",-1)),G={class:"text-left"},K={class:"text-uppercase text-grey publish mt-4"},M=n(()=>e("p",{class:"text-uppercase"},"Successfully executed !!",-1));function Q(a,i,W,X,Y,Z){const p=h("NavBar"),f=h("Footer");return B(),$(S,null,[t(x,{id:"home"},{default:s(()=>[t(p),t(k,{fluid:"",class:"container"},{default:s(()=>[e("div",R,[t(y,{items:a.items,divider:"/"},null,8,["items"])]),e("div",j,[t(c,null,{default:s(()=>[t(d,{cols:"12",md:"4",sm:"6",class:"img"},{default:s(()=>[t(I,{height:270,class:"bg-white",src:this.form.img},null,8,["src"])]),_:1}),t(d,{cols:"12",md:"6",sm:"12",class:"title"},{default:s(()=>[e("p",P,o(this.form.title)+" ("+o(this.form.pageCount)+") ",1),t(u,{class:"mt-3"}),t(V,{"model-value":this.form.averageRating,color:"amber",class:"mt-2",density:"compact","half-increments":"",readonly:"",size:"small"},null,8,["model-value"]),e("span",z,[O,l(" : "+o(this.form.authors),1)]),e("span",q,[A,l(" : "+o(this.form.printType)+" / "+o(this.form.language),1)]),e("span",E,[H,l(" : "+o(this.form.contentVersion),1)]),t(m,{text:"",class:"text-green mt-5",variant:"outlined",href:this.form.previewLink,target:"_blank"},{default:s(()=>[l("Preview")]),_:1},8,["href"]),t(u,{vertical:"",class:"mx-2"}),t(w,null,{default:s(({isHovering:r,props:v})=>[t(m,F({class:"mt-5 mx-5",variant:"outlined",icon:"fas fa-heart"},v,{color:this.form.favorite||r?"pink-lighten-2":"grey-lighten-2",size:"x-small",onClick:i[0]||(i[0]=tt=>a.addFavorite(this.dataDetail,a.snackbar=!0))}),null,16,["color"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:s(()=>[t(d,{cols:"12",md:"10"},{default:s(()=>[e("div",J,[U,e("p",G,o(this.form.description),1),e("p",K," Publisher : "+o(this.form.publisher)+" - "+o(this.form.publishedDate),1)])]),_:1})]),_:1})])]),_:1}),t(f)]),_:1}),t(g,{modelValue:a.snackbar,"onUpdate:modelValue":i[2]||(i[2]=r=>a.snackbar=r),timeout:2e3,color:"success"},{actions:s(()=>[t(m,{color:"white",variant:"text",onClick:i[1]||(i[1]=r=>a.snackbar=!1)},{default:s(()=>[l(" Close ")]),_:1})]),default:s(()=>[M]),_:1},8,["modelValue"])],64)}const lt=_(L,[["render",Q],["__scopeId","data-v-afa9641f"]]);export{lt as default};
